x <- rnorm(100, 5, 2)
y <- 3+0.5*x + rnorm(100, 0, 1)
df <- data.frame(x = x, y = y)
plot(y ~ x, data = df)
lmy <- lm(y ~ x, data = df)
summary(lm1)
summary(lmy)
coef(summary(lmy))
abline(coef(summary(lmy))[1], coef(summary(lmy))[1])
?abline
abline(a=coef(summary(lmy))[1], b=coef(summary(lmy))[1])
plot(y ~ x, data = df)
lmy <- lm(y ~ x, data = df)
summary(lmy)
abline(a=coef(summary(lmy))[1], b=coef(summary(lmy))[1])
plot(y ~ x, data = df)
lmy <- lm(y ~ x, data = df)
summary(lmy)
abline(a=coef(summary(lmy))[1], b=coef(summary(lmy))[2])
lmx <- lm(x ~ y, data = df)
summary(lmx)
abline(a=-coef(summary(lmx))[1]/coef(summary(lmx))[2],
b=1/coef(summary(lmx))[2])
x <- rnorm(100, 5, 2)
y <- 3+0.5*x + rnorm(100, 0, 1)
df <- data.frame(x = x, y = y)
plot(y ~ x, data = df)
lmy <- lm(y ~ x, data = df)
summary(lmy)
lmx <- lm(x ~ y, data = df)
summary(lmx)
-coef(summary(lmx))[1]/coef(summary(lmx))[2]
1/coef(summary(lmx))[2]
strptime("09-04-2025 07:45:02", format = %m-%d%Y %H:%M:%S)
strptime("09-04-2025 07:45:02", format = %m-%d-%Y %H:%M:%S)
strptime("09-04-2025 07:45:02", format = "%m-%d-%Y %H:%M:%S")
strptime("09-04-2025 07:45:02", format = "%m-%d-%Y %H:%M:%S", tz = "PDT")
strptime("09-04-2025 07:45:02", format = "%m-%d-%Y %H:%M:%S", tz = "PT")
strptime("09-04-2025 07:45:02", format = "%m-%d-%Y %H:%M:%S", tz = "PST")
?tz
strptime("09-04-2025 07:45:02", format = "%m-%d-%Y %H:%M:%S", tz = "America/Vancouver")
install.packages('installr')
installr::install.Rtools()
remotes::install_github("christophemetsu/theRmalUAV")
library(remotes)
install.packages('remotes')
remotes::install_github("christophemetsu/theRmalUAV")
tuav_cameras()
library(theRmalUAV)
tuav_cameras()
library(theRmalUAV)
tuav_cameras()
nchar("weqew")
nchar("C:\Users\ptandler\Documents\BurrelCreekProject\Year2_2025\02.Data\01.Selkirk\02.Raw_Data\03.Sensor_Data\2025-09-04\03.Tidbits\[EXTERNAL] Hobo tidbit Burrell\21727173 2025-09-04 16_08_57 PDT.xlsx")
nchar("C:\Users\ptandler\Documents\BurrelCreekProject\Year2_2025\02.Data\01.Selkirk\02.Raw_Data\03.Sensor_Data\2025-09-04\03.Tidbits\[EXTERNAL]-Hobo-tidbit-Burrell\21727173-2025-09-04_16_08_57_PDT.xlsx")
ncahr("C:\dd\\a")
tuav_cameras()
tuav_cameras()
thermal_uav <- tuav_create(path = "C:\Users\ptandler\Documents\BurrelCreekProject\Year2_2025\02.Data\01.Selkirk\02.Raw_Data\03.Sensor_Data\2025-09-04\02.H20T\someselection\RJPG",
thermal_uav <- tuav_create(path = "C:\Users\ptandler\Documents\BurrelCreekProject\Year2_2025\02.Data\01.Selkirk\02.Raw_Data\03.Sensor_Data\2025-09-04\02.H20T\someselection\RJPG",
nchar(r"(C:\Users\ptandler\Documents\BurrelCreekProject\Year2_2025\02.Data\01.Selkirk\02.Raw_Data\03.Sensor_Data\2025-09-04\03.Tidbits\[EXTERNAL]-Hobo-tidbit-Burrell\21727173-2025-09-04_16_08_57_PDT.xlsx)")
nchar(r("/\"))
nchar(r"(/\)")
nchar(r"(C:\Users)")
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/2025-09-04/02.H20T/someselection/RJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
273.15+28.7
?tuav_correct()
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 75,   # in meters
T_air = 15,         # in °C
rel_hum = 47.2,       # in %
SKC = TRUE,
emiss = 0.985)
tuav_export(thermal_uav_correct,
export_path = NA)
tuav_export(thermal_uav_correct,
export_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/")
28604/100-273.15
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/2025-11-28/02.H20T/someselection/RJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/2025-11-28/03.H20T/someselection/RJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
library(theRmalUAV)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/2025-11-28/03.H20T/someselection/RJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/2025-11-28/03.H20T/someselection/RJPG/test",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
library(theRmalUAV)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-09-04/CompleteAOI_selection/Thermal_TJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
nchar(r"(C:\Users\ptandler\Documents\BurrelCreekProject\Year2_2025\02.Data\01.Selkirk\02.Raw_Data\03.Sensor_Data\02.H20T\2025-09-04\CompleteAOI_selection\Thermal_TJPG\DJI_20250904122311_0022_T.JPG)")
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 75,   # in meters
T_air = 20,         # in °C
rel_hum = 47.2,       # in %
SKC = TRUE,
emiss = 0.985)
tuav_export(thermal_uav_correct,
export_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/out1")
20954/100-273.15
30954/100-273.15
library(theRmalUAV)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/03.H20T/ChannelAll_selection",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/03.H20T/ChannelAll_selection/Thermal_TJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 75,   # in meters
T_air = 0,         # in °C
rel_hum = 47.2,       # in %
SKC = FALSE,
emiss = 0.985)
tuav_export(thermal_uav_correct,
export_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/out2")
27642/100-273.15
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 75,   # in meters
T_air = 30,         # in °C
rel_hum = 47.2,       # in %
SKC = TRUE,
emiss = 0.985)
C <- function(x){x/100-273.15}
C(27632)
C(27276)
C(28092)
sys.time()
Sys.time()
?strptime()
# Tidbit Library
tidbit_lib <- read.csv("config/tidbit_name_ID_lib.csv")
tidbit_lib
source("helper/functions.R")
?errorCondition()
demo(error.catching)
source("helper/functions.R")
getwd()
source("helper/functions.R")
source("helper/functions.R")
source("helper/functions.R")
source("helper/functions.R")
source("helper/functions.R")
#' enter name or ID and a given time in this format: 07:45:02, the
#' function returns a temperature in the TB csv unit
TB_lib()
library(theRmalUAV)
tuav_cameras()
library(theRmalUAV)
thermal_uav <- tuav_create(path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/03.H20T/ChannelAll_selection/Thermal_TJPG",
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 75)
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 120,   # in meters
T_air = 20,         # in °C
rel_hum = 65,       # in %
SKC = TRUE,
emiss = 0.985)
source("helper/functions.R")
# unique identifier for each tidbit
#
TB_files <- "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/03.Tidbits/Prepared"
#' enter name or ID and a given time in this format: 07:45:02, the
#' function returns a temperature in the TB csv unit
TB_lib()
#
path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk
/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/03.H20T/ChannelAll_selection/Thermal_TJPG"
path
# load library
library(theRmalUAV)
# inspect available cameras
tuav_cameras()
# path to folder containing the RJPG images
image_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/03.H20T/ChannelAll_selection/Thermal_TJPG"
# creates an internal object for processing
# flight height is set when planning the drone mission
thermal_uav <- tuav_create(path = image_path,
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 120)
#' set flight height again
#' T_air ambient temperature (°C) rel_hum relative humidity (%), and sky clear TRUE or FALSE
#' Those parameters should come from measurements on site, Airdata, flight logs, spotwx
#' Estimate emissivity for target surface
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 120,   # in meters
T_air = 24,         # in °C
rel_hum = 42,       # in %
SKC = TRUE,
emiss = 0.985)
#' set output path. Sometimes it throws an error if the path is too long,
#' consider creating a temporary output folder with shorter path
output_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/out2"
tuav_export(thermal_uav_correct,
export_path = output_path)
# load library
library(theRmalUAV)
# install.packages('terra')
library(terra)
# path to the Thermal Orthomosaic processed in e.g. Agisoft Metashape
Orthomosaic_Path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/03.Processed_Data/02.H20T/2025-11-28/Channel_All_001-002/Orthomosaic_Thermal_v3_notCorrected.tif"
# convert to raster
thermal_rast <- rast(Orthomosaic_Path)
#' flight height is set when planning the drone mission
#' T_air ambient temperature (°C) rel_hum relative humidity (%), and sky clear TRUE or FALSE
#' Those parameters should come from measurements on site, Airdata, flight logs, spotwx
#' Estimate emissivity for target surface
thermal_corrected <- ortho_correct(thermal_ortho = thermal_rast,
temp = "C",               # Thermal map is in °C
flight_height = 120 ,     # in meter
T_air = 0,                # in °C
rel_hum = 66,             # in %
SKC = TRUE,
emiss = 0.985,
method = NA)
#' set output path. Sometimes it throws an error if the path is too long,
#' consider creating a temporary output folder with shorter path
output_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/03.Processed_Data/02.H20T/2025-11-28/Channel_All_001-002/Orthomosaic_Thermal_v3_Corrected.tif"
writeRaster(LST_correct, output_path, overwrite = TRUE)
writeRaster(thermal_corrected, output_path, overwrite = TRUE)
# load library
library(theRmalUAV)
# inspect available cameras
tuav_cameras()
# path to folder containing the RJPG images
image_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/03.H20T/ChannelAll_selection/Thermal_TJPG"
# creates an internal object for processing
# flight height is set when planning the drone mission
thermal_uav <- tuav_create(path = image_path,
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 120)
o
#' set flight height again
#' T_air ambient temperature (°C) rel_hum relative humidity (%), and sky clear TRUE or FALSE
#' Those parameters should come from measurements on site, Airdata, flight logs, spotwx
#' Estimate emissivity for target surface
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 120,   # in meters
T_air = 0,         # in °C
rel_hum = 66,       # in %
SKC = TRUE,
emiss = 0.985)
#' set output path. Sometimes it throws an error if the path is too long,
#' consider creating a temporary output folder with shorter path
output_path = "C:/Users/ptandler/Documents/BurrelCreekProject/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/out2"
tuav_export(thermal_uav_correct,
export_path = output_path)
tuav_export(thermal_uav_correct,
export_path = NA)
# Run those commands
install.packages('installr')
installr::install.Rtools()
install.packages('remotes')
remotes::install_github("christophemetsu/theRmalUAV")
# load library
library(theRmalUAV)
# inspect available cameras
tuav_cameras()
# path to folder containing the RJPG images
image_path = "C:/Users/ptandler/Documents/24-040_RDKB_BurrelCreek/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/ChannelAll_001-002/Thermal"
# creates an internal object for processing
# flight height is set when planning the drone mission
thermal_uav <- tuav_create(path = image_path,
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 120)
# path to folder containing the RJPG images
image_path = "C:/Users/ptandler/Documents/24-040_RDKB_BurrelCreek/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/ChannelAll_001-002/Thermal_JPG"
# creates an internal object for processing
# flight height is set when planning the drone mission
thermal_uav <- tuav_create(path = image_path,
camera = "DJI_ZH20T",
meta_csv = NA,
flight_height = 120)
#' set flight height again
#' T_air ambient temperature (°C) rel_hum relative humidity (%), and sky clear TRUE or FALSE
#' Those parameters should come from measurements on site, Airdata, flight logs, spotwx
#' Estimate emissivity for target surface
thermal_uav_correct <- tuav_correct(thermal_uav,
flight_height = 120,   # in meters
T_air = 0,         # in °C
rel_hum = 66,       # in %
SKC = TRUE,
emiss = 0.985)
#' set output path. Sometimes it throws an error if the path is too long,
#' consider creating a temporary output folder with shorter path
output_path = "C:/Users/ptandler/Documents/24-040_RDKB_BurrelCreek/Year2_2025/02.Data/01.Selkirk/02.Raw_Data/03.Sensor_Data/02.H20T/2025-11-28/corrected"
tuav_export(thermal_uav_correct,
export_path = output_path)
